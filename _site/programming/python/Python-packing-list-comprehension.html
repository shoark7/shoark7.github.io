<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Python packing & unpacking and list comprehension - Parkito's on the way</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Parkito's on the way" property="og:site_name">
  
    <meta content="Python packing & unpacking and list comprehension" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="Python's packing & unpacking, list comprehension, args & kwargs, functions for functional programming" property="og:description">
  
  
    <meta content="http://localhost:4000/programming/python/Python-packing-list-comprehension" property="og:url">
	
  
    <meta content="2016-09-25T00:00:00+09:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">
  
  
    <meta content="http://localhost:4000/assets/img/python/python-logo.png" property="og:image">
  
  
    
    <meta content="Programming" property="article:section">
    
  
  
    
    <meta content="Python" property="article:tag">
    
    <meta content="list comprehension" property="article:tag">
    
    <meta content="packing & unpacking" property="article:tag">
    
    <meta content="args & kwargs" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
  
    <meta name="twitter:title" content="Python packing & unpacking and list comprehension">
  
  
    <meta name="twitter:url" content="http://localhost:4000/programming/python/Python-packing-list-comprehension">
  
  
    <meta name="twitter:description" content="Python's packing & unpacking, list comprehension, args & kwargs, functions for functional programming">
  
  
    <meta name="twitter:image:src" content="http://localhost:4000/assets/img//python/python-logo.png">
  

  
    <meta content="Python's packing & unpacking, list comprehension, args & kwargs, functions for functional programming" name="description">
  
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<!-- Mathjax Support -->
<script>
MathJax.Hub.Register.StartupHook('TeX Jax Ready', function () {
	MathJax.InputJax.TeX.prefilterHooks.Add(function (data) {
		data.math = data.math.replace(/^% <!\[CDATA\[/, '').replace(/%\]\]>$/, '');
	});
});
</script>

<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
	MathJax.Hub.Config({
  showProcessingMessages: false,
  jax: ["input/TeX", "output/HTML-CSS"],
  TeX: {
    TagSide: "left",
    Macros: {
      RR: '{\\bf R}',
      bold: ['{\\bf #1}',1]
    }
  },
  CommonHTML: {
    linebreaks: {automatic: true}
  }
});
</script>

	<link rel="stylesheet" href="/assets/css/main.css">
	<link rel="stylesheet" href="/assets/css/personal.css">
	<link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Nanum+Gothic:400,700,800&amp;subset=korean" rel="stylesheet">

	<!-- googld ads tag -->
  <script data-ad-client="ca-pub-2670967175857332" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body style="position: relative">
	<div id="toggler-wrapper">
		<div id="menu-toggler">
			<img src="/assets/img/nav-off.png" alt="Menu collapse image">
		</div>
	</div>

  <div class="wrapper">

		<nav id="nav">
			<div id="menus">
				<p>
					<a class="navbar-brand text-white" href="/">&nbsp;&nbsp;&nbsp;Parkito's on the way!&nbsp;&nbsp;&nbsp;</a>
				</p>
				<ul id="category-list">
					<li>
						<a href="/about.me">
							<div class="menu">
								<span> About </span>
							</div>
						</a>
					</li>
				
					<li>
						<div class="menu-wrapper">
							<a href="/category/programming">
								<div class="menu">
									<span> Programming </span>
								</div>
							</a>
							<div class="menu-item">
								<a href="/category/programming/knowledge">Knowledge</a>
								<a href="/category/programming/algorithm">Algorithm</a>
								<a href="/category/programming/python">Python</a>
								<a href="/category/programming/shell-programming">Shell programming</a>
							</div>
						</div>
					</li>
				
					<li>
						<div class="menu-wrapper">
								<a href="/category/insight">
									<div class="menu">
										<span> Insight </span>
									</div>
								</a>
								<div class="menu-item">
									<a href="/category/insight/sensitivity">&nbsp;&nbsp;Sensitivity&nbsp;&nbsp;</a>
									<a href="/category/insight/rationality">&nbsp;&nbsp;Rationality&nbsp;&nbsp;</a>
								</div>
						</div>
					</li>

					<li>
						<div class="menu-wrapper">
								<a href="/category/projects">
									<div class="menu">
										<span> Projects </span>
									</div>
								</a>
							<div class="menu-item">
								<a href="/category/projects/dev-related">&nbsp;&nbsp;Dev related&nbsp;&nbsp;</a>
								<a href="/category/projects/etc">&nbsp;&nbsp;ETC&nbsp;&nbsp;</a>
							</div>
						</div> </li>

				</ul>
			</div>

			<div id="menus-right">
				<div id="search-section">
					<div class="input-wrapper">
						<span class="fa fa-search"></span>
						<input type="text" id="search-input" placeholder="Please input specific keyword :)" size="30">
					</div>
					<div id="results-container"></div>
				</div>

				<!--<div id="toggler-wrapper">-->
					<!--<div id="menu-toggler">-->
						<!--<img src="/assets/img/nav-off.png" alt="" width="35px" height="35px">-->
					<!--</div>-->
				<!--</div>-->
				
			</div>
			
		</nav>


    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/1536558558520.jpg" alt="Sunghwan Park"></a>
      </div>
      <div class="author-name">Sunghwan Park</div>
      <p>I'm Parkito. A Python lover. Interested in Python, Automation, Algorithm. Please give me insights. I'll teach you tambien! :)</p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
				<!--
        
          <li><a href="https://twitter.com/artemsheludko_" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
				-->
        
          <li class="github"><a href="http://github.com/shoark7" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/in/sunghwan-park-3773b8154" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        
          <li class="email"><a href="mailto:shoark7@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2021 &copy; Sunghwan Park</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->

<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img//python/python-logo.png alt="Python packing & unpacking and list comprehension">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Python packing & unpacking and list comprehension</h1>
        <div class="page-date"><span>2016, Sep 25&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>

		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<!-- 처음과끝에만 -->
		<ins class="adsbygoogle"
				 style="display:block"
				 data-ad-client="ca-pub-2670967175857332"
				 data-ad-slot="3352812061"
				 data-ad-format="auto"
				 data-full-width-responsive="true"></ins>
		<script>
				 (adsbygoogle = window.adsbygoogle || []).push({});
		</script>
		<!-- 처음과끝에만 -->

      <h1 id="--python">◈  Python</h1>

<p><br /></p>

<h2 id="0-파이썬에서의-삼항연산자">0. 파이썬에서의 삼항연산자.</h2>
<p>자바 등에서 삼항 연산자(ternary operator)을 본 적이 있을 것이다.  <code class="highlighter-rouge">a ? a&gt;b : b</code></p>

<p>저것의 뜻은 a가 b보다 크면 a를 쓰고, 조건이 충족되지 않으면 b를 쓴다는 것이다.<br />
if, else를 사용해서 할 수 있는 식인데 워낙 많이 사용되므로 한 줄로 사용가능하도록 만들어 놓은 것이다.</p>

<p>이것이 파이썬에도 구현되어 있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="k">else</span> <span class="k">print</span><span class="p">(</span><span class="s">'hi'</span><span class="p">)</span>

<span class="n">l</span> <span class="o">=</span> <span class="s">'my name is park'</span>
<span class="k">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span> <span class="k">else</span> <span class="k">print</span><span class="p">(</span><span class="s">'too long'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">too</span> <span class="nb">long</span>

<span class="s">"""
파이썬에서 삼항 연산자는 다른 언어와 달리
'참 일때의 값 if 조건식 else 거짓일 때의 값' 구조를 갖는다.


첫 번째 식은 k가 4보다 작아서 조건을 만족함으로 3을 출력하였고,
두 번째는 l의 길이가 10을 훌쩍 넘기기 때문에 조건을 만족시키지 않았다.
따라서 'too long'을 출력햇다.
위와 같이 간단한 조건식은 삼항연산자를 통해 계산할 수 있다.
"""</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="1-전-날-배운-내용을-활용해보자">1. 전 날 배운 내용을 활용해보자.</h2>

<p><br /></p>

<h3 id="11-n이라는-숫자를-받아서-0부터-시작해-n개의-짝수-리스트를-반환하는-함수">1.1. n이라는 숫자를 받아서 0부터 시작해 n개의 짝수 리스트를 반환하는 함수</h3>
<p>example :  100 =&gt; [0, …, 198]</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">element</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">==</span> <span class="n">n</span>

<span class="c1"># --- 이것을 함수로 만들자.
</span>
<span class="k">def</span> <span class="nf">get_even_list</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> 
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="12-자연수-n을-입력-받고-0부터-n보다-작은-짝수-리스트를-만드는-함수">1.2. 자연수 n을 입력 받고, 0부터 n보다 작은 짝수 리스트를 만드는 함수</h3>
<p>100 =&gt; [0, …, 98]</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>          <span class="c1"># result = [0, ..., 98] (len(result) == 50)
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># i를 2로 나눈 나머지가 0이라면, 즉 짝수라면!
</span>        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># --- 이것을 함수를 사용해서도 만들어보자.
</span>
<span class="k">def</span> <span class="nf">is_even</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="c1"># even =&gt; True
</span>    <span class="c1"># odd =&gt; False
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_even</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># 사용자가 만든 함수를 사용해 좀 더 간단하게 구했다.
</span></code></pre></div></div>
<p><br /></p>

<h3 id="13-fizzbuzz">1.3. FizzBuzz</h3>

<p><br /></p>

<p>이 문제는 꽤나 유명하다고 한다. 369 게임과도 비슷한데,<br />
기본적으로는 1부터 100까지 숫자가 3의 배수이면 ‘Fizz’를 출력하고, 5의 배수일 땐 ‘Buzz’를 출력하며 15의 배수일 땐 ‘FizzBuzz’를 출력하는 것이다.<br />
아무것도 해당 안되면 빈 값을 출력한다. 해보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># list #1: ["", "", "fast", "", "", "fast", ]
# list #2: ["", "", "", "", "campus", ]
</span>
<span class="c1"># -------------------------------------------
</span>
<span class="c1"># list =&gt; ["", "", "fast", "", "campus", "fast", ... "fastcampus", ...]
</span></code></pre></div></div>

<p><br /></p>

<p>실제로 구현하자.</p>

<p><br /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">element</span> <span class="o">=</span> <span class="p">(</span><span class="s">"fast"</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="s">""</span><span class="p">)</span>     <span class="c1"># 1.
</span>               <span class="o">+</span> <span class="p">(</span><span class="s">"campus"</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">%</span> <span class="mi">5</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="s">""</span><span class="p">)</span> <span class="c1"># 2.
</span>    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<p>여기서는 조건식이 두 번 사용된다.</p>
<ol>
  <li>첫 번째인 숫자가 3의 배수인지 검증하고 맞으면 ‘fast’을 붙인다.</li>
  <li>두 번째는 만약 5의 배수라면 ‘campus’를 붙인다.</li>
  <li>15의 배수라면, 그러니까 3으로 나눠지기도 하고, 5로 나눠지기도 한다면 ‘fastcampus’처럼 두 문자열이 붙을 것이다.<br />
  그 <code class="highlighter-rouge">element</code>를 <code class="highlighter-rouge">result</code>에 붙인다. 그 짓을 100번 한다. 처음에 하기에 무난한 식이라고 할 수 있을 것이다.</li>
</ol>

<p><br /></p>

<h3 id="14-fizzbuzz를-확장하자">1.4. FizzBuzz를 확장하자.</h3>
<p>위의 FizzBuzz도 무난하다. 그러나 좋은 식이란 확장가능한 식이다. 위의 예를 함수화해서 더 편하게 사용가능하도록 해보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_list</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">rule1</span><span class="p">,</span> <span class="n">rule2</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">element</span> <span class="o">=</span> <span class="s">""</span>          <span class="c1"># 1.
# --------------------------------------
</span>        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="p">[</span><span class="n">rule1</span><span class="p">,</span> <span class="n">rule2</span><span class="p">]:</span>  
            <span class="n">div</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="n">rule</span>
            <span class="n">element</span> <span class="o">+=</span> <span class="n">text</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">div</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s">""</span> <span class="c1"># 2.
# --------------------------------------
</span>        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">print</span><span class="p">(</span><span class="k">def</span> <span class="nf">get_list</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">'Fizz'</span><span class="p">,</span> <span class="s">'Buzz'</span><span class="p">)))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s">'Fizz'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s">'Buzz'</span>
<span class="o">....</span>
</code></pre></div></div>

<p><br /></p>

<p><code class="highlighter-rouge">get_list</code>라는 함수로 만들어봤다. <code class="highlighter-rouge">n</code>은 몇까지 함수로 적용할 것인지 정할 수 있다.<br />
<code class="highlighter-rouge">rule1</code>, <code class="highlighter-rouge">rule2</code>는 <code class="highlighter-rouge">(3, 'Fizz')</code>, <code class="highlighter-rouge">(5, 'Buzz')</code>처럼 몇으로 나누고 어떤 text를 붙일지 정할 수 있다.<br />
이렇게 함으로써 꼭 3, 5로 나누는 것이 아닌 7, 10 등 다양하게 적용해볼 수 있다.</p>

<p>rule들을 <code class="highlighter-rouge">for</code>문 돌리면서 i라는 숫자가 각각 숫자로 나눠떨어지는지 확인한다.<br />
각 rule들은 <code class="highlighter-rouge">(3, 'Fizz')</code>처럼 인자가 두 개인 튜플로 들어있다.<br />
여기에 <code class="highlighter-rouge">div, text = rule</code>처럼 적으면 <code class="highlighter-rouge">div=3; text='Fizz'</code>처럼 적용이 된다.<br />
<code class="highlighter-rouge">rule[0] rule[1]</code> 처럼 사용한다면 가독성이 꽤나 침해당할 것이다.<br />
위처럼 쓰면서 코드의 질을 높일 수 있다.삼항연산자를 사용해 각각을 나눠 text들을 element에 붙인다.</p>

<p>그 결과를 <code class="highlighter-rouge">result</code>에 붙인다. 그리고 <code class="highlighter-rouge">result</code>를 반환한다.</p>

<p><br /></p>

<h3 id="15-입력받은-숫자-n이-정수인지-검증해보자">1.5. 입력받은 숫자 n이 정수인지 검증해보자</h3>
<p>정수 n이 소수인지 확인하는 방법은 매우 많다.<br />
그렇지만 가장 무난하고 확실한 방법인 자신보다 작은 정수로 나눠보는 방법을 사용해보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="s">"""n 이 소수인지, 아닌지 판별하는 함수"""</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">print</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="bp">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="bp">False</span>
</code></pre></div></div>

<p><br /></p>

<p>소수의 정의는 1과 자기 자신만을 약수로 갖는 정수이다.<br />
그렇다면 그 이외의 값으로 나눠떨어지는 경우가 한 번이라고 있다면 그 정수는 소수가 아니라는 것이 된다.<br />
<code class="highlighter-rouge">for</code>문으로 ‘2’부터 ‘n-1’까지 나눠보면서 나눠떨어진다면 바로 <code class="highlighter-rouge">False</code>를 반환한다.<br />
만약 그 삼엄한 <code class="highlighter-rouge">for</code>테스트를 모두 통과하면 그 수는 소수라는 것이 증명된 것으로 True를 반환하게 된다.</p>

<p><br /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">result</span>
</code></pre></div></div>

<p>이 식은 2부터 100까지 정수인지 확인하고, 정수일 경우에만 결과 리스트에 값을 집어넣는 식이다.<br />
용자들은 이렇게 해서 10000보다 작은 소수들을  출력해보는 건 어떨까? <del>생각보다 쾌감이 있다.</del></p>

<p><br /></p>

<h3 id="16-입력-받은-숫자들의-합을-출력하는-함수를-만들자">1.6. 입력 받은 숫자들의 합을 출력하는 함수를 만들자</h3>
<p><br /></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_sum</span><span class="p">(</span><span class="n">elements</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># -------------------------------------
</span>    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">element</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>
<p>기본적으로는 위와 같이 만들 수 있을 것이다.<br />
기본 값을 0으로 두고 리스트 등을 <code class="highlighter-rouge">for</code>문을 돌면서 모두 더한다.<br />
그 결과 <code class="highlighter-rouge">result</code>를 출력하면 전체 합이 나온다.</p>

<p><br /></p>

<h3 id="17-입력-받은-숫자들-중-최대값을-출력하는-함수를-만들자">1.7. 입력 받은 숫자들 중 최대값을 출력하는 함수를 만들자.</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_max</span><span class="p">(</span><span class="n">elements</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>   <span class="c1"># 초기값!
</span>    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">element</span> <span class="o">&gt;</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">element</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<p><br /></p>

<p>위와 비슷하지만 조금 다른다. 여기서는 초기값을 ‘0’으로 잡으면 안 될 것이다.<br />
<strong>모든 원소가 음수일 경우 최대값이 0으로 출력될 것이기 때문이다.</strong><br />
따라서 첫 번째 원소를 주어진 리스트의 기본값으로 잡는다.<br />
<code class="highlighter-rouge">for</code>문을 돌면서 <code class="highlighter-rouge">result</code>를 보다 큰 값으로 계속 덧씌운다.<br />
마지막에 나오는 값을 결국 리스트의 최대값이 된다.</p>

<p><br />
<br />
<br /></p>

<h2 id="2-lambda와-lambda-operator를-알아보자">2. lambda와 lambda operator를 알아보자.</h2>
<p>안수찬 선생님은 함수형 프로그래밍을 참 좋아하시는 것 같다.<br />
파이썬에서도 함수형 프로그래밍 기능을 일부 지원하는데 이는 lambda와, lambda와 같이 붙어다니는 lambda operator로 만들 수 있다.</p>

<p><br /></p>

<h3 id="21-lambda">2.1. <em>lambda</em></h3>
<p>lambda는 익명 함수, 무기명 함수 등으로 불린다.<br />
매우 간단한 함수를 만들 경우 <code class="highlighter-rouge">def</code> 키워드 대신 <code class="highlighter-rouge">lambda</code> 키워드를 사용한다면 훨씬 더 짧고 간단하게 만들 수 있다.</p>

<p>예를 들어보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 숫자를 받아서 2배해 반환하는 함수를 만들자.
</span><span class="k">def</span> <span class="nf">double_maker_def</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="mi">2</span>

<span class="c1"># 위처럼 만들 수도 있다. lambda를 써보면
</span><span class="n">double_maker_lambda</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>

<span class="c1"># 람다를 해석해보자. 람다 함수를 정의할 땐 lambda 키워드를 앞에 놓고, 받는 인자를 'x' 처럼 값을 넣는다.
# ':' 뒤에 오는 내용은 반환값이 된다. ':'를 일반 함수의 'return'과 비교하면 좋을 것 같다.
</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="21-lambda-operator">2.1. lambda operator</h3>
<p>많은 경우 람다는 스스로만 쓰이지 않는다. 보통 람다는 <code class="highlighter-rouge">map</code>, <code class="highlighter-rouge">filter</code>, <code class="highlighter-rouge">reduce</code>라는 함수들과 많이 사용된다.<br />
<code class="highlighter-rouge">map</code>, <code class="highlighter-rouge">filter</code>는 빌트인 함수이고, <code class="highlighter-rouge">reduce</code>는 <code class="highlighter-rouge">functools</code>라는 모듈을 <code class="highlighter-rouge">import</code> 한 후 쓸 수 있다.</p>

<p>하나씩 살펴보자.</p>

<p><br /></p>

<h4 id="211-map">2.1.1. map</h4>
<p>위 세 함수의 공통점은 받는 인자의 순서가 동일하다는 것이다.</p>

<p><strong><code class="highlighter-rouge">map( function , iterable )</code></strong>
첫 번째 인자는 함수다. 어떤 함수를 쓸지 명시한다. <br />
람다함수는 많은 경우 한 줄로 표현하기 때문에 여기에 람다를 쓰는 것이다.</p>

<p>두 번째 인자는 iterable이다. <code class="highlighter-rouge">for</code>문을 쓰듯이 모든 원소를 한 번씩 반복하면서 함수를 적용할 수 있다.</p>

<p><strong>map</strong>의 역할은 <strong>리스트 내의 원소 각각에 함수를 적용한 뒤 적용된 iterable를 반환하는 것</strong>이다.</p>

<p>쉬운 예를 보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
</code></pre></div></div>

<p><br /></p>

<p>위를 잘 해석해보자. 원 리스트 <code class="highlighter-rouge">k</code>는 1부터 10까지 정수를 포함하고 있다.</p>

<p>map의 첫 번째 인자는 람다식을 넣는다 그 내용은 받은 값 <code class="highlighter-rouge">x</code>를 두 배로 만들어 반환한다는 것이다.(‘:’이 <code class="highlighter-rouge">return</code>과 대응된다.)</p>

<p>두 번째 인자는 리스트 <code class="highlighter-rouge">k</code>이다.</p>

<p><strong><code class="highlighter-rouge">map</code>을 통해서 리스트 <code class="highlighter-rouge">k</code>안에 있는 모든 숫자에 람다식이 적용된다. 람다식은 값을 두 배로 만들어 반환하는 함수이고, <code class="highlighter-rouge">map</code>의 결과물은 모든 원소가 두 배로 적용된 _terable이다.</strong><br />
그 값을 <code class="highlighter-rouge">list</code>로 리스트로 다시 바꿔서 <code class="highlighter-rouge">k</code>에 대입하면 원 리스트에서 모든 원소가 두 배로 된 결과가 나왔다.</p>

<p><code class="highlighter-rouge">map</code>의 느낌을 조금 알겠는가? 나머지도 알아보자.</p>

<p><br /></p>

<h4 id="212-filter">2.1.2. filter</h4>
<p><strong><code class="highlighter-rouge">filter( function , iterable )</code></strong></p>

<p>들어가는 인자는 세 함수 모두 동일하다. <code class="highlighter-rouge">filter</code>는 <code class="highlighter-rouge">map</code>과 큰 차이점을 가지고 있는데,</p>

<p><code class="highlighter-rouge">map</code>이 두 번째 인자의 모든 원소에 함수를 적용해서 모두 반환한다면(결과와 원 리스트의 개수가 동일하다.),<br />
<code class="highlighter-rouge">filter</code>는 두 번째 인자의 원소들에 함수를 적용해서 조건을 충족하는 원소들만 추출해서 새로운 <code class="highlighter-rouge">filter</code>객체를 만든다.</p>

<p>예시로 확인하자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">]</span>
<span class="n">k_map</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="n">k_filter</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">k_map</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">k_filter</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<p><br /></p>

<p>두 식에서 람다는 동일하다. 받은 값이 짝수면 <code class="highlighter-rouge">True</code>, 홀수면 <code class="highlighter-rouge">False</code>를 반환하는 함수이다.<br />
<code class="highlighter-rouge">map</code>에서는 <code class="highlighter-rouge">k</code>에 람다를 적용해서 각 원소가 <code class="highlighter-rouge">True</code>인지 <code class="highlighter-rouge">False</code>인지를 확인해서 모든 결과를 리스트로 반환한다.</p>

<p><strong><code class="highlighter-rouge">Filter</code>는 반대로 <code class="highlighter-rouge">k</code>에서 람다 조건을 만족하는(즉 결과가 <code class="highlighter-rouge">True</code>인) 원소들만을 추려서 결과를 반환한다.</strong></p>

<p><code class="highlighter-rouge">map</code>, <code class="highlighter-rouge">filter</code>의 차이가 이해되는가? 마지막으로 <code class="highlighter-rouge">reduce</code>를 알아보자.</p>

<p><br /></p>

<h4 id="213-reduce">2.1.3. reduce</h4>
<h5 id="2131-reduce">2.1.3.1. reduce</h5>
<p><code class="highlighter-rouge">reduce</code>는 다른 두 함수와 달리 파이썬에서 기본 지원하는 빌트인 함수가 아니므로, <code class="highlighter-rouge">functools</code>라는 모듈에서 <code class="highlighter-rouge">import</code>해야 한다.</p>

<p>바로 예를 보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>
<span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">]</span>
<span class="n">sum_result</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sum_result</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mi">15</span>
</code></pre></div></div>

<p><br /></p>

<ol>
  <li><code class="highlighter-rouge">functools</code> 모듈의 <code class="highlighter-rouge">reduce</code>함수를 <code class="highlighter-rouge">import</code>한다.</li>
  <li><code class="highlighter-rouge">k</code>는 1부터 10까지 정수를 가지고 있는 리스트다.</li>
  <li>여기가 핵심이다.
    <ul>
      <li>reduce의 lambda는 무조건 인자 두 개를 가진다. 여기서는 편의상 <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">y</code>라고 했다.</li>
      <li>함수로 반환되는 결과물은 다음 <code class="highlighter-rouge">x</code>으로 저장된다. 그리고는 <code class="highlighter-rouge">k</code>의 다음 원소와 람다식을 진행한다. 이것을 끝까지 진행한다.</li>
      <li>그러니까, 맨 처음 람다가 한 번 돌면, <code class="highlighter-rouge">x</code>에 1, <code class="highlighter-rouge">y</code>에 2가 들어간다. 람다의 내용은 둘을 더하는 것이므로 결과물 3이 x에 다시 적용된다. 그 다음 반복에서는 3의 값인 <code class="highlighter-rouge">x</code>에,  1,2, 다음값인 3이 <code class="highlighter-rouge">y</code>로 된다. 그 둘의 합인 6이 다시 <code class="highlighter-rouge">x</code>에 적용된다. 다음 람다에선 <code class="highlighter-rouge">x</code>에 6이 들어가고, 3 다음 값인 4가 <code class="highlighter-rouge">y</code>에 적용된다.</li>
      <li>위를 다음과 같이 적을 수도 있을 것이다.</li>
      <li>reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) –&gt;  ((((1+2)+3)+4)+5)</li>
      <li>이 식을 통해 리스트 내의 모든 원소를 더했다. 아까 구한 <code class="highlighter-rouge">get_sum</code> 함수를 한 줄로 만들어낸 것이다.</li>
    </ul>
  </li>
</ol>

<p><br /></p>

<h5 id="2132-reduce응용하기">2.1.3.2. reduce응용하기</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rooms</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"rent"</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s">"deposit"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"rent"</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s">"deposit"</span><span class="p">:</span> <span class="mi">2000</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"rent"</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span> <span class="s">"deposit"</span><span class="p">:</span> <span class="mi">6000</span><span class="p">},</span>
<span class="p">]</span>
</code></pre></div></div>

<p><br /></p>

<p>당신은 학교 근처에서 자취를 하려고 한다. 매물을 검색하고 결과를 다음과 같이 딕셔너리의 리스트로 저장했다고 가정하자.<br />
<code class="highlighter-rouge">rent</code>는 월세이고 <code class="highlighter-rouge">deposit</code>은 보증금이다.</p>

<p>여기서 가지고 있는 <code class="highlighter-rouge">rooms</code>에서 월세의 평균을 <code class="highlighter-rouge">reduce</code>로 구해보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>
<span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">{</span><span class="s">'rent'</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]},</span> <span class="n">rooms</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">{</span><span class="s">'rent'</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]},</span> <span class="n">rooms</span><span class="p">)[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">rooms</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mf">55.0</span>
</code></pre></div></div>

<p>위 식을 잘 뜯어보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">{</span><span class="s">'rent'</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]},</span> <span class="n">rooms</span><span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<p><code class="highlighter-rouge">rooms</code>는 <code class="highlighter-rouge">rent</code>, <code class="highlighter-rouge">deposit</code>라는 key와 그에 해당하는 값을 갖는 딕셔너리가 들어 있는 리스트다.<br />
그래서 <code class="highlighter-rouge">reduce</code>의 두 번째 인자에 <code class="highlighter-rouge">rooms</code>를 넣으면 각각의 반복에서는 <code class="highlighter-rouge">{'rent':200, 'deposit':100}</code>과 같은 딕셔너리가 사용될 것이다.</p>

<p><strong>그렇다면 <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">y</code>는 모두 딕셔너리다.</strong> 한 번의 람다에서 반환되는 값은 당연히 두 딕셔너리의 월세값을 더한 값을 <code class="highlighter-rouge">value</code>로, <code class="highlighter-rouge">key</code>를 <code class="highlighter-rouge">rent</code>로 하는 딕셔너리다.<br />
이 값이 <code class="highlighter-rouge">x</code>로 들어가고, <code class="highlighter-rouge">y</code>에는 다음 딕셔너리가 온다.<br />
이렇게 함으로써 <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">y</code> 모두에서 <code class="highlighter-rouge">rent</code>키의 값을 찾을 수 있는 것이다.(그러니까 _IndexError_없이 말이다.)<br />
<strong>핵심은 반환값이 단순히  <code class="highlighter-rouge">x['rent'] + y['rent']</code>이 아니라는 것이 중요하다.</strong><br />
이렇게 하면 반드시 오류가 난다. 그 이유를 아는 것만으로 <code class="highlighter-rouge">reduce</code>의 기본 개념을 이해한 것이다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">{</span><span class="s">'rent'</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="s">'rent'</span><span class="p">]},</span> <span class="n">rooms</span><span class="p">)[</span><span class="s">'rent'</span><span class="p">]</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">rooms</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mf">55.0</span>
</code></pre></div></div>

<p>아까 본 예의 최종 결과물은 <code class="highlighter-rouge">{'rent':165}</code>가 될 것이다.  결과물에 <code class="highlighter-rouge">['rent']</code>로 <code class="highlighter-rouge">value</code> 값을 구하면서 165만 뽑아올 수 있다.<br />
그리고 그 값을 <code class="highlighter-rouge">len(rooms)</code>으로 나눠서 평균 55.0을 구했다.</p>

<p><br />
<br />
<br /></p>

<h2 id="3-list-comprehension을-알아보자">3. list comprehension을 알아보자.</h2>

<p>2번에서 우리는 함수형 프로그래밍의 기능인 lambda와 lambda operator를 알아보았다. <br />
파이썬에서는 추가로 list comprehension으로 같은 결과물을 만들어 낼 수 있다. 백문이 불여일견. 일단 보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,]</span>
<span class="n">double_k</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">k</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">double_k</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
</code></pre></div></div>

<p>리스트 컴프리헨션은 <code class="highlighter-rouge">[]</code> 안에 작성된다.<br />
그 안에 <code class="highlighter-rouge">for i in k</code> 처럼 일반적인 <code class="highlighter-rouge">for</code>문을 적고, 그 앞에 각각의 <code class="highlighter-rouge">i</code>로 할 일을 적는다.<br />
위의 예에선 i를 두 배로 만들게 된다. 리스트 컴프리헨션의 결과물은 무조건 리스트가 된다. 다른 예를 볼까?</p>

<p><br /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,]</span>
<span class="n">new_k</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">k</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span><span class="o">==</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">new_k</span><span class="p">)</span>
<span class="k">print</span><span class="p">([</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">k</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span><span class="o">==</span> <span class="mi">0</span> <span class="k">if</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">81</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">36</span><span class="p">]</span>
</code></pre></div></div>
<p><br /></p>

<p>다음 식은 <code class="highlighter-rouge">i</code>가 3으로 나눠떨어지면 그 수를 제곱하고, 아니면 생략하는 식이다.<br />
<code class="highlighter-rouge">if</code>문을 <code class="highlighter-rouge">for</code>문 뒤에 적었다. 이를 통해 <code class="highlighter-rouge">i</code>가 3으로 나눠떨어질 때만 그 수를 제곱해 리스트를 만드는 식이 가능해졌다.<br />
신기하게도 저 식의 뒤에는 <code class="highlighter-rouge">else</code>가 적용되지 않는다. <code class="highlighter-rouge">SyntaxErorr</code>가 발생한다.<br />
그리고 <code class="highlighter-rouge">if</code> 문을 여러 개 적음으로써 조건을 <code class="highlighter-rouge">and</code>으로 검사할 수도 있다.<br />
<code class="highlighter-rouge">or</code>을 <code class="highlighter-rouge">if</code> 안에 넣어보았으나 불가능해보인다.</p>

<p><br />
<br />
<br /></p>

<h2 id="4-args와-kwargs에-대해-알아보자">4. <code class="highlighter-rouge">args</code>와 <code class="highlighter-rouge">kwargs</code>에 대해 알아보자.</h2>
<p>박성환이라는 사람을 오랫동안 괴롭힌 문제가 있다. 다음을 보자.
<br /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'max(1,2,3) is'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'max([1,2,3]) is'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">max</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="ow">is</span> <span class="mi">3</span>
</code></pre></div></div>
<p><br /></p>

<p>받은 값들의 최대값을 구하는 <code class="highlighter-rouge">max</code>함수는 받은 값이 리스트이든, 값 여러 개이든 문제없이 최대값을 구해준다. 
<br /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'sum([1, 2, 3]) is'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'sum(1, 2, 3) is'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">TypeError</span><span class="p">:</span> <span class="nb">sum</span> <span class="n">expected</span> <span class="n">at</span> <span class="n">most</span> <span class="mi">2</span> <span class="n">arguments</span><span class="p">,</span> <span class="n">got</span> <span class="mi">3</span>
</code></pre></div></div>
<p>이와는 대조적으로 받은 입력의 합을 구해주는 <code class="highlighter-rouge">sum</code> 함수는 <code class="highlighter-rouge">sum(1,2,3)</code>처럼 인자를 여러 개 넣으면 <code class="highlighter-rouge">TypeError</code>를 반환한다.<br />
같은 빌트인 함수인데 일관성이 결여된 것이 아닐까? 일단 이 문제에 대한 토론은 나중에 하자.<br />
이런 함수의 인자와 관련된 것이 <strong>args</strong>와 <strong>kwargs</strong>이다. 하나씩 알아보자.</p>

<p><br /></p>

<h3 id="41-args">4.1. <strong>args</strong></h3>
<p>우리는 함수를 호출할 때, 많은 경우 인자를 입력한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s">'3'</span><span class="p">)</span>
<span class="n">argl</span> <span class="o">=</span> <span class="k">print</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">' </span><span class="err">\</span><span class="s"> '</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">kwargl</span> <span class="o">=</span> <span class="k">print</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">' </span><span class="err">\</span><span class="s"> '</span><span class="p">)</span>

<span class="c1"># 여기서 `()`안에 들어가는 모든 것이 인자이다.
</span></code></pre></div></div>

<p><br /></p>

<p>arg는 <em>positional argument</em>, 위치 인자이다.<br />
<code class="highlighter-rouge">help(print)</code>를 통해 확인해보면 <code class="highlighter-rouge">print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)</code>
와 같이 <code class="highlighter-rouge">print</code>는 ‘value’ 외에도 <code class="highlighter-rouge">sep</code>, <code class="highlighter-rouge">end</code>, <code class="highlighter-rouge">file</code> 등 여러 다른 인자도 받을 수 있다.<br />
<strong>위의 value처럼, 정해진 값이 없이 함수를 실행할 때 꼭 필요한 인자를 Positional Argument라고 한다.</strong><br />
이렇게 넣을 때는 순서를 잘 지켜서 넣어야 할 것이다.</p>

<p><br /></p>

<h3 id="42-kwargs">4.2. <strong>kwargs</strong></h3>
<p>kwargs는 키워드 인자이다. 인자를 ‘value’만 넣는 것이 아닌 ‘key=value’ 형태로 넣는 것이다.<br />
<strong>위의 <code class="highlighter-rouge">kwargs = print('a', 'b', 'c', flush='True')</code>에서는 <code class="highlighter-rouge">flush</code>이라는 인자를 명시해서 그 값을 <code class="highlighter-rouge">True</code>로 정해주는 것이 된다.</strong><br />
kwargs를 사용할 때의 장점은 함수가 받는 인자의 순서를 무시하고 인자를 명시해줄 수 있다는 것이다.<br />
<code class="highlighter-rouge">print</code> 함수는 여러 인자를 받는데 <code class="highlighter-rouge">flush</code>인자의 순서는 꽤 뒤에 있다.<br />
이것을 _positional argument_를 사용해서  넣는다면 <code class="highlighter-rouge">flush</code> 앞의 인자들도 다 정해줘야 <code class="highlighter-rouge">flush</code>인자에 값을 넣을 수 있을 것이다.<br />
이때 <strong>kwarg를 사용하면 <code class="highlighter-rouge">flush</code> 인자를 명시함으로써 인자를 다 적어줘야 하는 불편함을 해소할 수 있는 것이다.</strong></p>

<p><br /></p>

<h3 id="43--packing과-unpacking">4.3.  <code class="highlighter-rouge">packing</code>과 <code class="highlighter-rouge">Unpacking</code></h3>
<p>4.1과 4.2는 결국 함수의 unpacking와 packing을 이해하기 위해 사용하는 개념이다.<br />
생각해보자. <code class="highlighter-rouge">print(1,2,3,4,5 ... )</code>처럼 <code class="highlighter-rouge">print</code>는 인자의 개수에 제한을 받지 않는다. 왜 그럴까?</p>

<p><br /></p>

<h4 id="431-packing">4.3.1. <em>Packing</em></h4>
<p><em>packing</em>(이하 패킹)은 함수를 정의할 때 사용된다. 우리가 함수를 만든다고 생각해보자.<br />
지금 상황은 <code class="highlighter-rouge">print</code>처럼 인자의 개수에 구애받지 않는 함수를 절박한 심정으로 만들고 싶은 상황이다.<br />
이때 패킹은 받는 인자를 하나의 튜플과 하나의 딕셔너리로 묶어서 전달해주는 것을 말한다. 다음 예를 보자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">myprint</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="s">''</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ans</span>

<span class="n">myprint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="s">'?'</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="s">'ok'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mi">1234</span><span class="err">?</span><span class="n">ok</span>
</code></pre></div></div>
<p><br /></p>

<p>위의 예는 print를 임의로 다시 정의해본 것이다.<br />
함수를 정의할 때 사용하는 <strong>패킹은 함수가 사용될 때 사용자가 입력하는 모든 positional argument 값들은 args라는 이름의 튜플로, 모든 keyword argument 값들은 kwargs라는 이름의 딕셔너리로 pack하겠다는 의지의 천명이다.</strong></p>

<p><strong>위의 예에서 <code class="highlighter-rouge">args</code>는 <code class="highlighter-rouge">(1,2,3,4)</code>의 튜플이고, <code class="highlighter-rouge">kwargs</code>는 <code class="highlighter-rouge">{'k':'?', 'l':'ok'}</code>의 값을 갖는 딕셔너리다.</strong><br />
둘은 모두 iterable하기 때문에 <code class="highlighter-rouge">for</code>문을 돌릴 수 있고 그 값들을 <code class="highlighter-rouge">string</code>이라는 값에 저장하고 그것을 출력한다.</p>

<p>아 참고로, args, kwargs는 PEP8에서 제안된 관습적인 표현이다.</p>

<p><br /></p>

<h4 id="432-unpacking">4.3.2. <em>Unpacking</em></h4>
<p>패킹이 함수를 정의할 때 사용된다면, <strong><em>Unpacking</em>(이하 언패킹)은 반대로 함수를 실행할 때 사용된다.</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>
<span class="k">def</span> <span class="nf">myprint</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'철수'</span><span class="p">,</span> <span class="s">'영희'</span><span class="p">,</span> <span class="s">'불금'</span><span class="p">,</span> <span class="s">'함께 보냈다.'</span><span class="p">]</span>
<span class="n">myprint</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">)</span> <span class="c1">## !!!!!! 중요!
</span>
<span class="err">철수</span>
<span class="err">영희</span>
<span class="err">불금</span>
<span class="err">함께</span> <span class="err">보냈다</span><span class="o">.</span>
</code></pre></div></div>

<p><br /></p>

<p>myprint라는 함수를 보자. 이 함수에는 먼저 패킹이 사용되었다.<br />
 <strong>그러니까 함수 실행 시에 받는 인자들을 모두 하나의 튜플로 만들어서 받은 뒤 그 안에서는 <code class="highlighter-rouge">for</code>문을 돌려 하나씩 출력하고 있다.</strong><br />
결과는 철수와 영희가 불금을 함께 보냈다라는 내용을 구 하나씩 출력하고 있다.</p>

<p>언패킹은 함수 사용시에 활용된다고 했다.<br />
<code class="highlighter-rouge">myprint(*list)</code>에서 <code class="highlighter-rouge">list</code> 앞에 <code class="highlighter-rouge">*</code>가 붙어 있다. 이것이 언패킹이다.<br />
여기서 <code class="highlighter-rouge">*</code>를 붙이면 iterable한 list가 모두 풀어져(unpacking되어) 인자에 들어간다. 그러니까,</p>
<blockquote>
  <p>myprint(*[‘철수’, ‘영희’, ‘불금’, ‘함께 보냈다.’])는 정확히
myprint(‘철수’, ‘영희’, ‘불금’, ‘함께 보냈다.’) 와 동일하다.</p>
</blockquote>

<p>왜 그러면 여기서 언패킹을 했을까? 언패킹을 안 했다고 가정해보자.</p>
<blockquote>
  <p>myprint(list)</p>
</blockquote>

<p>‘*‘를 없앴다. 이때는 <code class="highlighter-rouge">list</code>가 문자열을 담은 <strong>리스트 하나로서 함수 안에 들어간다.</strong><br />
그런데 함수 정의할 때 패킹이 되어 있으므로 <code class="highlighter-rouge">args</code>는 <code class="highlighter-rouge">list</code>를 첫 번째 원소로 하는 튜플이 된다.</p>

<blockquote>
  <p>args is same with  ([‘철수’, ‘영희’, ‘불금’, ‘함께 보냈다.’], )</p>
</blockquote>

<p>원 함수에서 <code class="highlighter-rouge">args</code>를 기준으로 <code class="highlighter-rouge">for</code>문을 돌리게 된다. <code class="highlighter-rouge">args</code>는 <code class="highlighter-rouge">list</code>가 아니라 <code class="highlighter-rouge">list</code>를 포함하고 있는 튜플이다.  <br />
즉 <code class="highlighter-rouge">for</code>문에서 <code class="highlighter-rouge">list</code>의 문자열 개수만큼 반복되는 것이 아니라 튜플이 가지고 있는 인자 개수 1개만큼만 반복되는 것이다.</p>

<p>결과물은 <code class="highlighter-rouge">['철수', '영희', '불금', '함께 보냈다.']</code> 리스트 자신이 나왔다.<br />
이것은 우리가 의도한 결과가 아니다. 이럴 때 언패킹을 사용하는 것이다.</p>

<p><br /></p>

<p>정리하자.</p>

<table>
  <thead>
    <tr>
      <th>타입</th>
      <th>사용 위치</th>
      <th>역할</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Packing</strong></td>
      <td>함수 정의할 때</td>
      <td>함수 실행 시에 받은 모든 원소를 묶고 싶을 때</td>
    </tr>
    <tr>
      <td><strong>Unpacking</strong></td>
      <td>함수 사용할 때</td>
      <td>입력하는 리스트, 딕셔너리 등을 풀어서 함수에 넣고 싶을 때</td>
    </tr>
  </tbody>
</table>

<p><br />
<br /></p>

<h2 id="5-지금까지-배운-것을-모두-활용해서-어썸하게-만들자">5. 지금까지 배운 것을 모두 활용해서 어썸하게 만들자!</h2>

<p><br /></p>

<h3 id="51-fizzbuzz-문제를-확장성-끝판왕-어썸함수로-만들자">5.1. FizzBuzz 문제를 확장성 끝판왕 어썸함수로 만들자</h3>

<p>이제는 FizzBuzz를 확장성을 더욱더 올려보도록 하자.</p>
<ol>
  <li>람다를 사용해서 짧게 만들어보고</li>
  <li>*args, **kwargs, 를 사용해서 인자를 무수히 많이 받을 수 있게 하자.</li>
</ol>

<p>예상되는 함수 형태<br />
<strong>get_awesome_list(100, (3, ‘Fizz’), (5, ‘Buzz’), (7, ‘Ok!’), (‘9, Too long’))</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_awesome_list</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="n">args</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># ------------------------------------------
</span>
<span class="s">"""
위의 두 식은 다음을 위한 것이다. 우리가 받는 args안의 튜플들의 숫자 순서가 (3,5,7,9)으로 이쁜 순서로 받아들였지만,
세상에는 저 순서를 바꿔서 넣을 불한당들도 존재하기 때문에 위와 같은 식을 썼다.
먼저 튜플에는 sort 기능이 없기 때문에 list로 바꿨고,
sort식을 사용해서 (3, 5, 7, 9) 오름차순으로 정렬되도록 바꾼 것이다.

이처럼 우리가 만드는 함수나 기능은 분명 어떤 식으로든 개선의 여지나 약점을 없애는 방법이 있다.
그것을 고민하면 분명 더 좋은 함수가 나온다고 혹자는 말한 적이 있다.
"""</span>

<span class="c1"># --------------------------------------------
</span>
<span class="c1"># list comprehension 버전 
</span>    <span class="k">return</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="s">''</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="c1"># -------------------------------------------
</span>
<span class="c1"># --------------------------------------------
# 람다 버전.
</span>    <span class="k">return</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="s">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">arg</span><span class="p">:</span> <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s">''</span> <span class="p">,</span><span class="n">args</span><span class="p">))</span>
    <span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>

<span class="k">print</span><span class="p">(</span><span class="n">get_awesome_list</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">'Fizz'</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s">'Buzz'</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s">'Ok!'</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s">'Too long'</span><span class="p">)))</span>

<span class="s">"""
리스트 컴프리헨션이나 람다나 모양은 다르지만 논리 순서는 똑같다.
이 식들을 풀어쓰면 크게는 for문이 두 개가 중첩될 것이다.
일반적으로 람다나 리스트 컴프리헨션에서 상위에 해당되는 for문은 다른 for문을 감싼다.
위에서도 '1'부터 'n+1'까지의 for문이 각각의 숫자를 나누는 for문을 감싸고 있다. 핵심은 그거다.
"""</span>

</code></pre></div></div>

      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Python packing & unpacking and list comprehension&url=http://localhost:4000/programming/python/Python-packing-list-comprehension" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=http://localhost:4000/programming/python/Python-packing-list-comprehension" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=http://localhost:4000/programming/python/Python-packing-list-comprehension" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
            <a href="/tags#Python" class="tag">&#35; Python</a>
          
            <a href="/tags#list comprehension" class="tag">&#35; list comprehension</a>
          
            <a href="/tags#packing & unpacking" class="tag">&#35; packing & unpacking</a>
          
            <a href="/tags#args & kwargs" class="tag">&#35; args & kwargs</a>
          
        </div>
      </div>

			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- 처음과끝에만 -->
			<ins class="adsbygoogle"
					 style="display:block"
					 data-ad-client="ca-pub-2670967175857332"
					 data-ad-slot="3352812061"
					 data-ad-format="auto"
					 data-full-width-responsive="true"></ins>
			<script>
					 (adsbygoogle = window.adsbygoogle || []).push({});
			</script>
			<!-- 처음과끝에만 -->

		  <!-- Load Facebook SDK for JavaScript -->
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>

  <!-- Your share button code -->
  <div class="fb-share-button" 
    data-href="http://localhost:4000/programming/python/Python-packing-list-comprehension" 
    data-layout="button_count">
  </div>

		
    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

	<script src="https://unpkg.com/simple-jekyll-search@1.5.0/dest/simple-jekyll-search.min.js"></script>
<script>
var sjs = SimpleJekyllSearch({
  searchInput: document.querySelector('#search-input'),
  resultsContainer: document.getElementById('results-container'),
  json: '/search.json',
  searchResultTemplate: '<li class="search-results-item"><a href="http://localhost:4000{url}">{title}</a></li>',
	limit: 9,
	noResultsText: '<li class="search-results-item"><a href="#">No results found...</a></li>'
})
</script>

	<!-- Main Js -->
<!--<script src="/assets/js/main.js"></script>-->

<!-- JQuery 3.x min -->
<script src="/assets/js/jquery.js"></script>

<script>
	let menus = $("#category-list");
	let image = $("#menu-toggler img");
	$("#toggler-wrapper").click(function() {
		if(menus.css("display") === "none") {
			image.attr("src", "/assets/img/close-button.png");
			menus.css("display", "flex");
		}
		else {
			image.attr("src", "/assets/img/nav-off.png");
			menus.css("display", "none");
		}
	});


</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127149179-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127149179-1');
</script>

</body>
</html>
